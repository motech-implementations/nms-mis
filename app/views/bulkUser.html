<script type="text/javascript">
	if(typeof nmsReportsApp === 'undefined'){
		window.location.assign('http://192.168.200.112:8080/#!/login');
	}
</script>
<div data-ng-controller="BulkUserController" class="bulkUpload">
	<div class="block">
<!--
		<div class="form-group" style="display: inline-block; width: 300px;">
			<input type="file" class="form-control" name="bulkCsv" value="Select .csv file" data-ng-files="getTheFiles($files)" />
		</div>
		<button type="submit" class="btn btn-primary" name="uploadCsv">Upload File</button>
		<button class="btn btn-primary" name="uploadCsv" data-ng-click="uploadFiles()">Upload File</button>

		<br>
		
 -->
		<div class="bulkUpload-header block">
			
			<label for="file-upload" class="btn btn-sm btn-default custom-file-upload">
				<i class="fa fa-cloud-upload"></i>
				<span data-ng-if="!myFile">Click here to select CSV file</span>
				<span data-ng-if="myFile">{{myFile.name}}</span>
			</label>
			<input id="file-upload" class="input input-sm" type="file" name="bulkCsv" file-model="myFile" style="display: none;" />

			<button class="btn btn-sm btn-primary" data-ng-click="uploadFile()">Upload Bulk User</button>

			<a class="btn btn-sm btn-primary" href="{{downloadTemplateUrl}}">
				<span class="glyphicon glyphicon-disk-save"></span>
				Download Template
			</a>
			<br>
			<p>Note: Document should be in CSV format.</p>
		</div>
		

	</div>
	<hr>
	<div class="bulkUpload-body block" data-ng-if="errorsObj.length > 0 && uploadedFlag">
		<!-- <ul>
			<li data-ng-repeat="row in listErrors()">{{row}}</li>
		</ul> -->
		<p class="grey">Status of Document Import</p>
		<p class="red">Error : given rows not imported</p>
		<table class="table table-bordered">
			<tr>
				<th>Row no.</th>
				<th>Error Message</th>
			</tr>
			<tr data-ng-repeat="row in errorsObj">
				<td>{{row.line}}</td>
				<td>{{row.name}}</td>
			</tr>
		</table>
	</div>
	<div class="bulkUpload-body block" data-ng-if="errorsObj.length == 0 && uploadedFlag">
		<p class="grey">Status of Document Import</p>
		<p class="green">Records successfully imported</p>
	</div>
</div>